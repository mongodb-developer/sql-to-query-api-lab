"use strict";(self.webpackChunkdocusaurus_template_lab=self.webpackChunkdocusaurus_template_lab||[]).push([["739"],{959:function(e,t,s){s.r(t),s.d(t,{default:()=>a,frontMatter:()=>o,metadata:()=>i,assets:()=>h,toc:()=>d,contentTitle:()=>l});var i=JSON.parse('{"id":"CRUD/ORDER-BY-SORT","title":"\uD83D\uDC50 ORDER BY \u2192 .sort() & LIMIT \u2192 .limit()","description":"In SQL, we use ORDER BY to sort query results and LIMIT to restrict the number of returned rows. MongoDB provides the .sort() and .limit() methods to achieve the same.","source":"@site/docs/40-CRUD/3-ORDER-BY-SORT.mdx","sourceDirName":"40-CRUD","slug":"/CRUD/ORDER-BY-SORT","permalink":"/sql-to-query-api-lab/docs/CRUD/ORDER-BY-SORT","draft":false,"unlisted":false,"editUrl":"https://github.com/mongodb-developer/sql-to-query-api-lab/blob/main/docs/40-CRUD/3-ORDER-BY-SORT.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\uD83D\uDC50 SELECT \u2192 projection","permalink":"/sql-to-query-api-lab/docs/CRUD/SELECT"},"next":{"title":"\uD83D\uDC50 INSERT \u2192 insertOne() & DELETE \u2192 deleteOne()","permalink":"/sql-to-query-api-lab/docs/CRUD/INSERT-DELETE"}}'),n=s("5893"),r=s("65");let o={},l="\uD83D\uDC50 ORDER BY \u2192 .sort() & LIMIT \u2192 .limit()",h={},d=[{value:"<strong>Sorting in MongoDB</strong>",id:"sorting-in-mongodb",level:2},{value:"<strong>Limiting Results</strong>",id:"limiting-results",level:2},{value:"1: Top 5 Books with the Highest Inventory",id:"1-top-5-books-with-the-highest-inventory",level:3},{value:"2: Get the title of top 10 Fiction Books by highest page count",id:"2-get-the-title-of-top-10-fiction-books-by-highest-page-count",level:3},{value:"<strong>Exercises</strong>",id:"exercises",level:2}];function c(e){let t={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"-order-by--sort--limit--limit",children:"\uD83D\uDC50 ORDER BY \u2192 .sort() & LIMIT \u2192 .limit()"})}),"\n",(0,n.jsxs)(t.p,{children:["In SQL, we use ",(0,n.jsx)(t.code,{children:"ORDER BY"})," to sort query results and ",(0,n.jsx)(t.code,{children:"LIMIT"})," to restrict the number of returned rows. MongoDB provides the ",(0,n.jsx)(t.code,{children:".sort()"})," and ",(0,n.jsx)(t.code,{children:".limit()"})," methods to achieve the same."]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"sorting-in-mongodb",children:(0,n.jsx)(t.strong,{children:"Sorting in MongoDB"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"{ field: 1 }"})," \u2192 ",(0,n.jsx)(t.strong,{children:"Ascending order"})," (A \u2192 Z, smallest to largest)"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"{ field: -1 }"})," \u2192 ",(0,n.jsx)(t.strong,{children:"Descending order"})," (Z \u2192 A, largest to smallest)"]}),"\n",(0,n.jsx)(t.li,{children:"You can sort by multiple fields, just like SQL."}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"limiting-results",children:(0,n.jsx)(t.strong,{children:"Limiting Results"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:".limit(n)"})," restricts the number of documents returned."]}),"\n",(0,n.jsxs)(t.li,{children:["Used together with ",(0,n.jsx)(t.code,{children:".sort()"}),", it helps fetch the ",(0,n.jsx)(t.strong,{children:"top N"})," results."]}),"\n"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h3,{id:"1-top-5-books-with-the-highest-inventory",children:"1: Top 5 Books with the Highest Inventory"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"db.books.find().sort({ totalInventory: -1 }).limit(5);\n"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Equivalent SQL Query:"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"SELECT * FROM books ORDER BY totalInventory DESC LIMIT 5;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["This fetches the ",(0,n.jsx)(t.strong,{children:"5 books with the highest stock"}),"."]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h3,{id:"2-get-the-title-of-top-10-fiction-books-by-highest-page-count",children:"2: Get the title of top 10 Fiction Books by highest page count"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'db.books\n  .find({ genres: "Fiction" }, { title: 1, pages: 1 })\n  .sort({ pages: -1 })\n  .limit(10);\n'})}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"Along with the title, we fetched pages as well to ensure that we are getting the right results."})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Equivalent SQL Query:"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"SELECT title, pages FROM books WHERE genres='Fiction' ORDER BY pages DESC LIMIT 10;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["This returns the ",(0,n.jsx)(t.strong,{children:"top 10 available books"}),' in the "Science Fiction" genre.']}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"exercises",children:(0,n.jsx)(t.strong,{children:"Exercises"})}),"\n",(0,n.jsxs)(t.p,{children:["\uD83D\uDC50 Retrieve the top 3 books with the most reviews.",(0,n.jsx)(t.br,{}),"\n","\uD83D\uDC50 Find the ",(0,n.jsx)(t.strong,{children:"first 10 books"})," alphabetically by ",(0,n.jsx)(t.code,{children:"title"}),".",(0,n.jsx)(t.br,{}),"\n","\uD83D\uDC50 Get the ",(0,n.jsx)(t.strong,{children:"latest 5 books"})," added to the database (assume a ",(0,n.jsx)(t.code,{children:"createdAt"})," field).",(0,n.jsx)(t.br,{}),"\n","\uD83D\uDC50 Find ",(0,n.jsx)(t.strong,{children:"the 2 oldest authors"})," (assume a ",(0,n.jsx)(t.code,{children:"birthYear"})," field).",(0,n.jsx)(t.br,{}),"\n","\uD83D\uDC50 Retrieve ",(0,n.jsx)(t.strong,{children:"the top 7 books"})," with the highest ",(0,n.jsx)(t.code,{children:"rating"}),"."]})]})}function a(e={}){let{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}}}]);